(define-stumpwm-command "toggle-touchpad" ()
  "Toggle the laptop touchpad on/off.
   Need to have set 'Option SHMConfig' for Synaptics Touchpad
   device in xorg.conf."
  (let ((state (run-shell-command
                "synclient -l | grep TouchpadOff | awk '{ print $3 }'" t)))
    (case (string= (subseq state 0 1) "1")
      (t (shell-command "synclient TouchpadOff=0"))
      (otherwise (shell-command "synclient TouchpadOff=1")
                 (banish-pointer)))))

(define-key *root-map* (kbd "T") "toggle-touchpad")

;; Turn off Touchpad initially
(shell-command "synclient TouchpadOff=1")

;; Get rid of cursor initially
(banish-pointer)

(defcommand firefox () ()
            "Start/Switchto Firefox."
            (run-or-raise "firefox" '(:class "Firefox")))

(define-key *root-map* (kbd "f") "firefox")

(defun toggle-mode-line-hook (key key-seq cmd)
  (declare (ignore key key-seq cmd))
  (mode-line))

(add-hook *key-press-hook* 'toggle-mode-line-hook)
